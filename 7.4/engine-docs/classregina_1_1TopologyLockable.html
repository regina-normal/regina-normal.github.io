<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Regina 7.4 Calculation Engine: regina::TopologyLockable Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Regina 7.4 Calculation Engine
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search',false);
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceregina.html">regina</a></li><li class="navelem"><a class="el" href="classregina_1_1TopologyLockable.html">TopologyLockable</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classregina_1_1TopologyLockable-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">regina::TopologyLockable Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>A base class for objects that support topology locks, such as triangulations or links.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;utilities/topologylock.h&gt;</code></p>
<div class="dynheader">
Inheritance diagram for regina::TopologyLockable:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classregina_1_1TopologyLockable.png" usemap="#regina::TopologyLockable_map" alt=""/>
  <map id="regina::TopologyLockable_map" name="regina::TopologyLockable_map">
<area href="classregina_1_1detail_1_1TriangulationBase.html" alt="regina::detail::TriangulationBase&lt; 2 &gt;" shape="rect" coords="0,56,234,80"/>
<area href="classregina_1_1detail_1_1TriangulationBase.html" alt="regina::detail::TriangulationBase&lt; 3 &gt;" shape="rect" coords="244,56,478,80"/>
<area href="classregina_1_1detail_1_1TriangulationBase.html" alt="regina::detail::TriangulationBase&lt; 4 &gt;" shape="rect" coords="488,56,722,80"/>
<area href="classregina_1_1Link.html" title="Represents a combinatorial diagram of a directed knot or link." alt="regina::Link" shape="rect" coords="732,56,966,80"/>
<area href="classregina_1_1detail_1_1TriangulationBase.html" title="Provides core functionality for dim-dimensional triangulations." alt="regina::detail::TriangulationBase&lt; dim &gt;" shape="rect" coords="976,56,1210,80"/>
<area href="classregina_1_1Triangulation_3_012_01_4.html" title="Represents a 2-manifold triangulation." alt="regina::Triangulation&lt; 2 &gt;" shape="rect" coords="0,112,234,136"/>
<area href="classregina_1_1Triangulation_3_013_01_4.html" title="Represents a 3-dimensional triangulation, typically of a 3-manifold." alt="regina::Triangulation&lt; 3 &gt;" shape="rect" coords="244,112,478,136"/>
<area href="classregina_1_1Triangulation_3_014_01_4.html" title="Represents a 4-dimensional triangulation, typically of a 4-manifold." alt="regina::Triangulation&lt; 4 &gt;" shape="rect" coords="488,112,722,136"/>
<area href="classregina_1_1Triangulation.html" alt="regina::Triangulation&lt; dim-1 &gt;" shape="rect" coords="854,112,1088,136"/>
<area href="classregina_1_1Triangulation.html" title="A dim-dimensional triangulation, built by gluing together dim-dimensional simplices along their (dim-..." alt="regina::Triangulation&lt; dim &gt;" shape="rect" coords="1098,112,1332,136"/>
<area href="classregina_1_1SnapPeaTriangulation.html" title="Offers direct access to the SnapPea kernel from within Regina." alt="regina::SnapPeaTriangulation" shape="rect" coords="244,168,478,192"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classregina_1_1TopologyLockable_1_1TopologyLock.html">TopologyLock</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a temporary lock on the topological properties of the given object.  <a href="classregina_1_1TopologyLockable_1_1TopologyLock.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aed34336ef7526b28fc1438e55c548d4c" id="r_aed34336ef7526b28fc1438e55c548d4c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aed34336ef7526b28fc1438e55c548d4c">TopologyLockable</a> ()=default</td></tr>
<tr class="memdesc:aed34336ef7526b28fc1438e55c548d4c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor that initialises the lock count to zero.  <br /></td></tr>
<tr class="separator:aed34336ef7526b28fc1438e55c548d4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4e5e5bf3fa4509cbf8f7ee78953609b" id="r_ae4e5e5bf3fa4509cbf8f7ee78953609b"><td class="memItemLeft" align="right" valign="top"><a id="ae4e5e5bf3fa4509cbf8f7ee78953609b" name="ae4e5e5bf3fa4509cbf8f7ee78953609b"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>TopologyLockable</b> (const <a class="el" href="classregina_1_1TopologyLockable.html">TopologyLockable</a> &amp;)=delete</td></tr>
<tr class="separator:ae4e5e5bf3fa4509cbf8f7ee78953609b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb70158808d2f7d799bf69e9a2097029" id="r_aeb70158808d2f7d799bf69e9a2097029"><td class="memItemLeft" align="right" valign="top"><a id="aeb70158808d2f7d799bf69e9a2097029" name="aeb70158808d2f7d799bf69e9a2097029"></a>
<a class="el" href="classregina_1_1TopologyLockable.html">TopologyLockable</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (const <a class="el" href="classregina_1_1TopologyLockable.html">TopologyLockable</a> &amp;)=delete</td></tr>
<tr class="separator:aeb70158808d2f7d799bf69e9a2097029"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a5857fcc6d1187bc8d72b900fef3161d6" id="r_a5857fcc6d1187bc8d72b900fef3161d6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5857fcc6d1187bc8d72b900fef3161d6">topologyLocked</a> () const</td></tr>
<tr class="memdesc:a5857fcc6d1187bc8d72b900fef3161d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether or not there are any topology locks currently held on this object.  <br /></td></tr>
<tr class="separator:a5857fcc6d1187bc8d72b900fef3161d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a11f83f8f5e9df2281cb7b65b1d46bd4c" id="r_a11f83f8f5e9df2281cb7b65b1d46bd4c"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a11f83f8f5e9df2281cb7b65b1d46bd4c">topologyLock_</a> { 0 }</td></tr>
<tr class="memdesc:a11f83f8f5e9df2281cb7b65b1d46bd4c"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of topology locks currently held on this object.  <br /></td></tr>
<tr class="separator:a11f83f8f5e9df2281cb7b65b1d46bd4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A base class for objects that support topology locks, such as triangulations or links. </p>
<p>Essentially, a "topology lock" means the following. In routines that would normally clear computed properties of an object (e.g., operations that edit a triangulation or a link diagram), if there are any topology locks currently held on that object then properties that are purely topological will be preserved. This is essentially an optimisation that allows us to avoid recomputing expensive invariants when we know in advance they will not change.</p>
<p>By a "purely topological" property, we mean the following:</p>
<ul>
<li>For triangulations, these are properties of the underlying manifold, and must be invariant under reflection. Examples include homology, fundamental group, and Turaev-Viro invariants of 3-manifolds. Non-examples include zero-efficiency of 3-manifold triangulations (which depends upon the specific triangulation), intersection forms of 4-manifolds (which can change under reflection), or validity of triangulations (since subdivision could change a triangulation from invalid to valid).</li>
<li>For links, these are properties of the underlying link, and they do <em>not</em> need to be invariant under reflection or reversal. Examples include the Jones and HOMFLY-PT polynomials (even though these can change under reflection). Non-examples include the bracket polynomial (which depends upon the specific diagram).</li>
</ul>
<p>This specific notion of "preserved properties" is subject to change in future versions of Regina.</p>
<p>Currently end users cannot access <a class="el" href="classregina_1_1TopologyLockable.html" title="A base class for objects that support topology locks, such as triangulations or links.">TopologyLockable</a> or <a class="el" href="classregina_1_1TopologyLockable_1_1TopologyLock.html" title="Creates a temporary lock on the topological properties of the given object.">TopologyLock</a> at all; instead topology locks are restricted to member functions, since it is too easy to accidentally abuse them and generate incorrect mathematical results as a result. This may change in a future release of Regina if a good way is found to make them safer for end users.</p>
<p><a class="el" href="classregina_1_1TopologyLockable.html" title="A base class for objects that support topology locks, such as triangulations or links.">TopologyLockable</a> should be used as a protected base class for objects that support topology locks (e.g., both Triangulation&lt;dim&gt; and <a class="el" href="classregina_1_1Link.html" title="Represents a combinatorial diagram of a directed knot or link.">Link</a> derive from <a class="el" href="classregina_1_1TopologyLockable.html" title="A base class for objects that support topology locks, such as triangulations or links.">TopologyLockable</a>). To create a temporary topology lock on an object <em>obj</em> (e.g., a triangulation or link), typically within a member function (e.g., functions that implement Pachner or Reidemeister moves), you should create a <a class="el" href="classregina_1_1TopologyLockable_1_1TopologyLock.html" title="Creates a temporary lock on the topological properties of the given object.">TopologyLock</a> on the stack and pass <em>obj</em> to its constructor.</p>
<p>Subclass implementations should remember:</p>
<ul>
<li><a class="el" href="classregina_1_1TopologyLockable.html" title="A base class for objects that support topology locks, such as triangulations or links.">TopologyLockable</a> should be a <em>protected</em> base class, since this machinery should not be directly accessible to end users.</li>
<li>This base class is not copyable, movable or swappable, since topology locks cannot be transferred from one object (e.g., triangulation or link) to another. This means that subclass assignment or swap operations should not touch topology lock counts, and subclass copy/move constructors should always use the default <a class="el" href="classregina_1_1TopologyLockable.html" title="A base class for objects that support topology locks, such as triangulations or links.">TopologyLockable</a> constructor that sets the lock count to zero.</li>
<li>In subclass "hook routines" that would normally clear computed properties when an object is modified (such as Link::clearAllProperties(), Triangulation&lt;dim&gt;::clearAllProperties() or TriangulationBase&lt;dim&gt;::clearBaseProperties()), these hook routines should query <a class="el" href="#a5857fcc6d1187bc8d72b900fef3161d6" title="Returns whether or not there are any topology locks currently held on this object.">topologyLocked()</a>, and if this returns <code>true</code> then they should <em>preserve</em> any properties that are purely topological.</li>
</ul>
<p>/nopython </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aed34336ef7526b28fc1438e55c548d4c" name="aed34336ef7526b28fc1438e55c548d4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed34336ef7526b28fc1438e55c548d4c">&#9670;&#160;</a></span>TopologyLockable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">regina::TopologyLockable::TopologyLockable </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Default constructor that initialises the lock count to zero. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a5857fcc6d1187bc8d72b900fef3161d6" name="a5857fcc6d1187bc8d72b900fef3161d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5857fcc6d1187bc8d72b900fef3161d6">&#9670;&#160;</a></span>topologyLocked()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool regina::TopologyLockable::topologyLocked </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns whether or not there are any topology locks currently held on this object. </p>
<p>Strictly speaking, this routine could return a false negative: the number of locks is stored as an 8-bit integer and so in reality this tests whether the number of locks is a multiple of 256. False negatives are mathematically harmless, since the worst that will happen is that topological properties will be cleared when they could have been preserved, and so unnecessary extra computation may be required to compute them again.</p>
<p>This routine will never return a false positive.</p>
<dl class="section return"><dt>Returns</dt><dd><code>false</code> if there are no topology locks currently held on this object, or if a false negative occurs (as described above); or <code>true</code> to indicate that there are currently topology locks held on this object. </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a11f83f8f5e9df2281cb7b65b1d46bd4c" name="a11f83f8f5e9df2281cb7b65b1d46bd4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11f83f8f5e9df2281cb7b65b1d46bd4c">&#9670;&#160;</a></span>topologyLock_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t regina::TopologyLockable::topologyLock_ { 0 }</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The number of topology locks currently held on this object. </p>
<p>Any non-zero number of locks implies that "hook routines" that clear computed properties (as described in the class notes) will preserve properties that are purely topological. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>utilities/<a class="el" href="topologylock_8h.html">topologylock.h</a></li>
</ul>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.13.2-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Copyright &copy; 1999&ndash;2025, The Regina development team
</small></address>
</div><!-- doc-content -->
</body>
</html>
