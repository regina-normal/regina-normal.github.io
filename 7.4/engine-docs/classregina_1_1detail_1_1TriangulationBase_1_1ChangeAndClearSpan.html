<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Regina 7.4 Calculation Engine: regina::detail::TriangulationBase&lt; dim &gt;::ChangeAndClearSpan&lt; changeType &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Regina 7.4 Calculation Engine
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search',false);
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceregina.html">regina</a></li><li class="navelem"><a class="el" href="namespaceregina_1_1detail.html">detail</a></li><li class="navelem"><a class="el" href="classregina_1_1detail_1_1TriangulationBase.html">TriangulationBase</a></li><li class="navelem"><a class="el" href="classregina_1_1detail_1_1TriangulationBase_1_1ChangeAndClearSpan.html">ChangeAndClearSpan</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classregina_1_1detail_1_1TriangulationBase_1_1ChangeAndClearSpan-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">regina::detail::TriangulationBase&lt; dim &gt;::ChangeAndClearSpan&lt; changeType &gt; Class Template Reference</div></div>
</div><!--header-->
<div class="contents">

<p>An object that facilitates taking snapshots, firing change events, and calling clearAllProperties().  
 <a href="#details">More...</a></p>

<p><code>#include &lt;triangulation/detail/triangulation.h&gt;</code></p>
<div class="dynheader">
Inheritance diagram for regina::detail::TriangulationBase&lt; dim &gt;::ChangeAndClearSpan&lt; changeType &gt;:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classregina_1_1detail_1_1TriangulationBase_1_1ChangeAndClearSpan.png" alt=""/>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a355b4b40e5926fe330bed80b32fb34e3" id="r_a355b4b40e5926fe330bed80b32fb34e3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a355b4b40e5926fe330bed80b32fb34e3">ChangeAndClearSpan</a> (<a class="el" href="classregina_1_1detail_1_1TriangulationBase.html">TriangulationBase</a> &amp;tri)</td></tr>
<tr class="memdesc:a355b4b40e5926fe330bed80b32fb34e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs all initial tasks before the triangulation is modified.  <br /></td></tr>
<tr class="separator:a355b4b40e5926fe330bed80b32fb34e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76993fb685d5904f5dab16b04875937e" id="r_a76993fb685d5904f5dab16b04875937e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a76993fb685d5904f5dab16b04875937e">~ChangeAndClearSpan</a> ()</td></tr>
<tr class="memdesc:a76993fb685d5904f5dab16b04875937e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs all follow-up tasks after the triangulation has been modified.  <br /></td></tr>
<tr class="separator:a76993fb685d5904f5dab16b04875937e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e77b9ab81d9d42fcb23a4ea64ef06d1" id="r_a5e77b9ab81d9d42fcb23a4ea64ef06d1"><td class="memItemLeft" align="right" valign="top"><a id="a5e77b9ab81d9d42fcb23a4ea64ef06d1" name="a5e77b9ab81d9d42fcb23a4ea64ef06d1"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ChangeAndClearSpan</b> (const <a class="el" href="classregina_1_1detail_1_1TriangulationBase_1_1ChangeAndClearSpan.html">ChangeAndClearSpan</a> &amp;)=delete</td></tr>
<tr class="separator:a5e77b9ab81d9d42fcb23a4ea64ef06d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d3e7d02b9ac078007757c57f58cedc4" id="r_a2d3e7d02b9ac078007757c57f58cedc4"><td class="memItemLeft" align="right" valign="top"><a id="a2d3e7d02b9ac078007757c57f58cedc4" name="a2d3e7d02b9ac078007757c57f58cedc4"></a>
<a class="el" href="classregina_1_1detail_1_1TriangulationBase_1_1ChangeAndClearSpan.html">ChangeAndClearSpan</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (const <a class="el" href="classregina_1_1detail_1_1TriangulationBase_1_1ChangeAndClearSpan.html">ChangeAndClearSpan</a> &amp;)=delete</td></tr>
<tr class="separator:a2d3e7d02b9ac078007757c57f58cedc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a161fa5f195f1bc2a619d1ab61ffefd5b" id="r_a161fa5f195f1bc2a619d1ab61ffefd5b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classregina_1_1Triangulation.html">Triangulation</a>&lt; dim &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classregina_1_1PacketData_1_1PacketChangeSpan.html#a161fa5f195f1bc2a619d1ab61ffefd5b">held</a> () const</td></tr>
<tr class="memdesc:a161fa5f195f1bc2a619d1ab61ffefd5b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the underlying <em>Held</em> object.  <br /></td></tr>
<tr class="separator:a161fa5f195f1bc2a619d1ab61ffefd5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a16cf1c3fc8ef287f681923ea75e9652e" id="r_a16cf1c3fc8ef287f681923ea75e9652e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classregina_1_1PacketData.html">PacketData</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classregina_1_1PacketData_1_1PacketChangeSpan.html#a16cf1c3fc8ef287f681923ea75e9652e">data_</a></td></tr>
<tr class="memdesc:a16cf1c3fc8ef287f681923ea75e9652e"><td class="mdescLeft">&#160;</td><td class="mdescRight">The object for which - if it belongs to a PacketOf&lt;Held&gt; - change events will be fired.  <br /></td></tr>
<tr class="separator:a16cf1c3fc8ef287f681923ea75e9652e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><div class="compoundTemplParams">template&lt;int dim&gt;<br />
template&lt;<a class="el" href="namespaceregina.html#a47656af928b3ca24f70fd39b5ce541de">ChangeType</a> changeType = ChangeType::General&gt;<br />
class regina::detail::TriangulationBase&lt; dim &gt;::ChangeAndClearSpan&lt; changeType &gt;</div><p>An object that facilitates taking snapshots, firing change events, and calling clearAllProperties(). </p>
<p>An object of type Triangulation::ChangeAndClearSpan has four possible effects upon the triangulation that is passed to its constructor:</p>
<ul>
<li>If the triangulation is actually part of a PacketOf&lt;Triangulation&lt;dim&gt;&gt;, then the packet events <a class="el" href="classregina_1_1PacketListener.html#ac3b3ba238a00f5c13fd9bca2b9db21db" title="Called before the contents of the packet are to be changed.">PacketListener::packetToBeChanged()</a> and <a class="el" href="classregina_1_1PacketListener.html#af302a5875214631b50b05c62cd6ef17c" title="Called after the contents of the packet have been changed.">PacketListener::packetWasChanged()</a> will be fired upon this object's construction and destruction respectively.</li>
<li>On construction, this object also calls <a class="el" href="classregina_1_1Snapshottable.html#ac7e625e918d497e1a006bc13b64a1d4f">Triangulation&lt;dim&gt;::takeSnapshot()</a>. This snapshotting will happen <em>after</em> the initial change event is fired; however, the order of these two operations should be irrelevant since packet listeners should not make any changes to a packet from within <a class="el" href="classregina_1_1PacketListener.html#ac3b3ba238a00f5c13fd9bca2b9db21db" title="Called before the contents of the packet are to be changed.">PacketListener::packetToBeChanged()</a>.</li>
<li>On destruction, this object also calls Triangulation&lt;dim&gt;::clearAllProperties(), <em>unless</em> the template argument <em>changeType</em> is <a class="el" href="namespaceregina.html#a47656af928b3ca24f70fd39b5ce541deae6a567ca3cf62657e2c1b5d1ab31abba" title="Indicates a change that is cosmetic in nature, in that it will not alter any computed properties of t...">ChangeType::Cosmetic</a>. This call will happen just before the final change event is fired.</li>
<li>Finally, if the template argument <em>changeType</em> is <a class="el" href="namespaceregina.html#a47656af928b3ca24f70fd39b5ce541dea8d1d6df1004866fd8442691fc182f21b" title="Indicates a change that could alter the representation of the object, but will not alter its topology...">ChangeType::PreserveTopology</a>, then this object will effectively create a new TopologyLock for the triangulation that lasts for the full lifespan of this object, <em>excluding</em> the firing of packet change events. Specifically, the TopologyLock will be created in the constructor immediately after snapshotting, and will be removed in the destructor immediately after the call to Triangulation&lt;dim&gt;::clearAllProperties(). In particular, this means that topological properties of the triangulation that have been computed and cached (such as homology and fundamental group) will be preserved when clearAllProperties() is called in the destructor.</li>
</ul>
<p>The use of <a class="el" href="classregina_1_1detail_1_1TriangulationBase_1_1ChangeAndClearSpan.html" title="An object that facilitates taking snapshots, firing change events, and calling clearAllProperties().">ChangeAndClearSpan</a> is similar to <a class="el" href="classregina_1_1Packet_1_1PacketChangeSpan.html" title="An object that facilitates firing packetToBeChanged() and packetWasChanged() events.">Packet::PacketChangeSpan</a> (and indeed, this class is intended to <em>replace</em> PacketChangeSpan when writing <a class="el" href="classregina_1_1Triangulation.html" title="A dim-dimensional triangulation, built by gluing together dim-dimensional simplices along their (dim-...">Triangulation</a> member functions): objects of this type would typically be created on the stack, just before the internal data within a triangulation is changed, and have a lifespan that covers all of your changes to the triangulation.</p>
<p>Like PacketChangeSpan, these objects can be safely nested with other <a class="el" href="classregina_1_1detail_1_1TriangulationBase_1_1ChangeAndClearSpan.html" title="An object that facilitates taking snapshots, firing change events, and calling clearAllProperties().">ChangeAndClearSpan</a> and/or PacketChangeSpan objects, and only the outermost object will fire packet change events. However, unlike PacketChangeSpan, this comes with a cost: as always, only one set of change events will be fired; however, if there are multiple <a class="el" href="classregina_1_1detail_1_1TriangulationBase_1_1ChangeAndClearSpan.html" title="An object that facilitates taking snapshots, firing change events, and calling clearAllProperties().">ChangeAndClearSpan</a> objects then <a class="el" href="classregina_1_1Snapshottable.html#ac7e625e918d497e1a006bc13b64a1d4f">Triangulation&lt;dim&gt;::takeSnapshot()</a> and Triangulation&lt;dim&gt;::clearAllProperties() will be called multiple times. This is harmless but inefficient.</p>
<p>Likewise, if <em>changeType</em> is <a class="el" href="namespaceregina.html#a47656af928b3ca24f70fd39b5ce541dea8d1d6df1004866fd8442691fc182f21b" title="Indicates a change that could alter the representation of the object, but will not alter its topology...">ChangeType::PreserveTopology</a> then these objects will behave in the expected way when nested with other TopologyLock objects (i.e., topological properties will be preserved as long as any such object is alive).</p>
<p>Note: we would normally use a deduction guide so that, for the default case, you can just write <code><a class="el" href="classregina_1_1detail_1_1TriangulationBase_1_1ChangeAndClearSpan.html" title="An object that facilitates taking snapshots, firing change events, and calling clearAllProperties().">ChangeAndClearSpan</a></code> instead of <code><a class="el" href="classregina_1_1detail_1_1TriangulationBase_1_1ChangeAndClearSpan.html" title="An object that facilitates taking snapshots, firing change events, and calling clearAllProperties().">ChangeAndClearSpan</a>&lt;&gt;</code>. Unfortunately this is not possible due to a gcc bug (<a href="https://gcc.gnu.org/bugzilla/show_bug.cgi?id=79501">https://gcc.gnu.org/bugzilla/show_bug.cgi?id=79501</a>), which affects gcc versions 11 and earlier (but not clang).</p>
<p><a class="el" href="classregina_1_1detail_1_1TriangulationBase_1_1ChangeAndClearSpan.html" title="An object that facilitates taking snapshots, firing change events, and calling clearAllProperties().">ChangeAndClearSpan</a> objects are not copyable, movable or swappable. In particular, Regina does not offer any way for a <a class="el" href="classregina_1_1detail_1_1TriangulationBase_1_1ChangeAndClearSpan.html" title="An object that facilitates taking snapshots, firing change events, and calling clearAllProperties().">ChangeAndClearSpan</a> to transfer its outstanding duties (i.e., firing events and calling clearAllProperties() upon destruction) to another object.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">changeType</td><td>controls which computed properties of the triangulation will be cleared upon the destruction of this object. See the notes above for details. If unsure, the default value of <a class="el" href="namespaceregina.html#a47656af928b3ca24f70fd39b5ce541dea0db377921f4ce762c62526131097968f" title="Indicates a change that could potentially alter any aspect of the object.">ChangeType::General</a> (which clears <em>all</em> computed properties) is always safe to use.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Python</dt><dd>Not present. </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a355b4b40e5926fe330bed80b32fb34e3" name="a355b4b40e5926fe330bed80b32fb34e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a355b4b40e5926fe330bed80b32fb34e3">&#9670;&#160;</a></span>ChangeAndClearSpan()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int dim&gt; </div>
<div class="memtemplate">
template&lt;<a class="el" href="namespaceregina.html#a47656af928b3ca24f70fd39b5ce541de">ChangeType</a> changeType = ChangeType::General&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classregina_1_1detail_1_1TriangulationBase.html">regina::detail::TriangulationBase</a>&lt; dim &gt;::ChangeAndClearSpan&lt; changeType &gt;::ChangeAndClearSpan </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classregina_1_1detail_1_1TriangulationBase.html">TriangulationBase</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>tri</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Performs all initial tasks before the triangulation is modified. </p>
<p>See the class notes for precisely what tasks are performed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tri</td><td>the triangulation whose data is about to change. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a76993fb685d5904f5dab16b04875937e" name="a76993fb685d5904f5dab16b04875937e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76993fb685d5904f5dab16b04875937e">&#9670;&#160;</a></span>~ChangeAndClearSpan()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;int dim&gt; </div>
<div class="memtemplate">
template&lt;<a class="el" href="namespaceregina.html#a47656af928b3ca24f70fd39b5ce541de">ChangeType</a> changeType = ChangeType::General&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classregina_1_1detail_1_1TriangulationBase.html">regina::detail::TriangulationBase</a>&lt; dim &gt;<a class="el" href="#a355b4b40e5926fe330bed80b32fb34e3">::ChangeAndClearSpan</a>&lt; changeType &gt;::~<a class="el" href="classregina_1_1detail_1_1TriangulationBase_1_1ChangeAndClearSpan.html">ChangeAndClearSpan</a> </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Performs all follow-up tasks after the triangulation has been modified. </p>
<p>See the class notes for precisely what tasks are performed. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a161fa5f195f1bc2a619d1ab61ffefd5b" name="a161fa5f195f1bc2a619d1ab61ffefd5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a161fa5f195f1bc2a619d1ab61ffefd5b">&#9670;&#160;</a></span>held()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classregina_1_1Triangulation.html">Triangulation</a>&lt; dim &gt; &amp; <a class="el" href="classregina_1_1PacketData.html">regina::PacketData</a>&lt; <a class="el" href="classregina_1_1Triangulation.html">Triangulation</a>&lt; dim &gt; &gt;::PacketChangeSpan::held </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the underlying <em>Held</em> object. </p>
<dl class="section return"><dt>Returns</dt><dd>the <em>Held</em> object that was originally passed to the PacketChangeSpan constructor. </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a16cf1c3fc8ef287f681923ea75e9652e" name="a16cf1c3fc8ef287f681923ea75e9652e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16cf1c3fc8ef287f681923ea75e9652e">&#9670;&#160;</a></span>data_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classregina_1_1PacketData.html">PacketData</a>&amp; <a class="el" href="classregina_1_1PacketData.html">regina::PacketData</a>&lt; <a class="el" href="classregina_1_1Triangulation.html">Triangulation</a>&lt; dim &gt; &gt;::PacketChangeSpan::data_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The object for which - if it belongs to a PacketOf&lt;Held&gt; - change events will be fired. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>triangulation/detail/<a class="el" href="detail_2triangulation_8h.html">triangulation.h</a></li>
</ul>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.13.2-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Copyright &copy; 1999&ndash;2025, The Regina development team
</small></address>
</div><!-- doc-content -->
</body>
</html>
