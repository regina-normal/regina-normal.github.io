<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Regina 7.3.1 Calculation Engine: regina::i18n::IConvStreamBuffer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Regina 7.3.1 Calculation Engine
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search',false);
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceregina.html">regina</a></li><li class="navelem"><a class="el" href="namespaceregina_1_1i18n.html">i18n</a></li><li class="navelem"><a class="el" href="classregina_1_1i18n_1_1IConvStreamBuffer.html">IConvStreamBuffer</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classregina_1_1i18n_1_1IConvStreamBuffer-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">regina::i18n::IConvStreamBuffer Class Reference<div class="ingroups"><a class="el" href="group__utilities.html">Miscellaneous Utilities</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>An output stream buffer that translates between character encodings.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;utilities/i18nutils.h&gt;</code></p>
<div class="dynheader">
Inheritance diagram for regina::i18n::IConvStreamBuffer:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classregina_1_1i18n_1_1IConvStreamBuffer.png" alt=""/>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a3334747d42a32a95043a910a6dd173bc" id="r_a3334747d42a32a95043a910a6dd173bc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3334747d42a32a95043a910a6dd173bc">IConvStreamBuffer</a> ()</td></tr>
<tr class="memdesc:a3334747d42a32a95043a910a6dd173bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a new stream buffer.  <br /></td></tr>
<tr class="separator:a3334747d42a32a95043a910a6dd173bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9edd112498e3e6f3cd5c96087209e408" id="r_a9edd112498e3e6f3cd5c96087209e408"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9edd112498e3e6f3cd5c96087209e408">~IConvStreamBuffer</a> () override</td></tr>
<tr class="memdesc:a9edd112498e3e6f3cd5c96087209e408"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroys this stream buffer.  <br /></td></tr>
<tr class="separator:a9edd112498e3e6f3cd5c96087209e408"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20e3bf0eb09d148ac5869f00545d053b" id="r_a20e3bf0eb09d148ac5869f00545d053b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classregina_1_1i18n_1_1IConvStreamBuffer.html">IConvStreamBuffer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a20e3bf0eb09d148ac5869f00545d053b">open</a> (std::ostream &amp;dest, const char *srcCode, const char *destCode)</td></tr>
<tr class="memdesc:a20e3bf0eb09d148ac5869f00545d053b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Opens a new stream buffer that wraps around the given output stream.  <br /></td></tr>
<tr class="separator:a20e3bf0eb09d148ac5869f00545d053b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c33c006ebeb04142acf3ebf3bec4302" id="r_a9c33c006ebeb04142acf3ebf3bec4302"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classregina_1_1i18n_1_1IConvStreamBuffer.html">IConvStreamBuffer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9c33c006ebeb04142acf3ebf3bec4302">close</a> () noexcept</td></tr>
<tr class="memdesc:a9c33c006ebeb04142acf3ebf3bec4302"><td class="mdescLeft">&#160;</td><td class="mdescRight">Closes this stream buffer.  <br /></td></tr>
<tr class="separator:a9c33c006ebeb04142acf3ebf3bec4302"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c9564fc9eba046e24dd45192998e9d3" id="r_a8c9564fc9eba046e24dd45192998e9d3"><td class="memItemLeft" align="right" valign="top">int_type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8c9564fc9eba046e24dd45192998e9d3">overflow</a> (int_type c) override</td></tr>
<tr class="memdesc:a8c9564fc9eba046e24dd45192998e9d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends buffered data to the destination output stream, converting between character sets en route.  <br /></td></tr>
<tr class="separator:a8c9564fc9eba046e24dd45192998e9d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff332afd72a51d9766b2cdfecf3291df" id="r_aff332afd72a51d9766b2cdfecf3291df"><td class="memItemLeft" align="right" valign="top">int_type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aff332afd72a51d9766b2cdfecf3291df">underflow</a> () override</td></tr>
<tr class="memdesc:aff332afd72a51d9766b2cdfecf3291df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Simply returns EOF (since this is not an input stream).  <br /></td></tr>
<tr class="separator:aff332afd72a51d9766b2cdfecf3291df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83235d5ab9057d716ab99d48efe6ad79" id="r_a83235d5ab9057d716ab99d48efe6ad79"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a83235d5ab9057d716ab99d48efe6ad79">sync</a> () override</td></tr>
<tr class="memdesc:a83235d5ab9057d716ab99d48efe6ad79"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flushes all output buffers.  <br /></td></tr>
<tr class="separator:a83235d5ab9057d716ab99d48efe6ad79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0cf28d98ddd5269875d02dd4a0b0189" id="r_ae0cf28d98ddd5269875d02dd4a0b0189"><td class="memItemLeft" align="right" valign="top"><a id="ae0cf28d98ddd5269875d02dd4a0b0189" name="ae0cf28d98ddd5269875d02dd4a0b0189"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>IConvStreamBuffer</b> (const <a class="el" href="classregina_1_1i18n_1_1IConvStreamBuffer.html">IConvStreamBuffer</a> &amp;)=delete</td></tr>
<tr class="separator:ae0cf28d98ddd5269875d02dd4a0b0189"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02ac538f57b6d6738f0562181d972a3a" id="r_a02ac538f57b6d6738f0562181d972a3a"><td class="memItemLeft" align="right" valign="top"><a id="a02ac538f57b6d6738f0562181d972a3a" name="a02ac538f57b6d6738f0562181d972a3a"></a>
<a class="el" href="classregina_1_1i18n_1_1IConvStreamBuffer.html">IConvStreamBuffer</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><b>operator=</b> (const <a class="el" href="classregina_1_1i18n_1_1IConvStreamBuffer.html">IConvStreamBuffer</a> &amp;)=delete</td></tr>
<tr class="separator:a02ac538f57b6d6738f0562181d972a3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>An output stream buffer that translates between character encodings. </p>
<p>The <em>iconv</em> library is used to do the real work.</p>
<p>Users should not normally instantiate this class directly; instead see <a class="el" href="classregina_1_1i18n_1_1IConvStream.html" title="An output stream that converts between character encodings.">IConvStream</a> for a higher-level interface to character conversion.</p>
<p>This class will still work if <em>iconv</em> is not supported on the build machine, though in this case it will simply pass data through without performing any translations.</p>
<dl class="section user"><dt>Python</dt><dd>Not present.</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Parts of this code are modified from the cxxtools library (<a href="http://www.tntnet.org/cxxutils.html">http://www.tntnet.org/cxxutils.html</a>), which is copyright (c) 2003 by Tommi Maekitalo, and covered by the GNU Lesser General Public License. </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a3334747d42a32a95043a910a6dd173bc" name="a3334747d42a32a95043a910a6dd173bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3334747d42a32a95043a910a6dd173bc">&#9670;&#160;</a></span>IConvStreamBuffer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">regina::i18n::IConvStreamBuffer::IConvStreamBuffer </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a new stream buffer. </p>

</div>
</div>
<a id="a9edd112498e3e6f3cd5c96087209e408" name="a9edd112498e3e6f3cd5c96087209e408"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9edd112498e3e6f3cd5c96087209e408">&#9670;&#160;</a></span>~IConvStreamBuffer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">regina::i18n::IConvStreamBuffer::~IConvStreamBuffer </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destroys this stream buffer. </p>
<p>This stream buffer will be closed, but the destination output stream will not be. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a9c33c006ebeb04142acf3ebf3bec4302" name="a9c33c006ebeb04142acf3ebf3bec4302"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c33c006ebeb04142acf3ebf3bec4302">&#9670;&#160;</a></span>close()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classregina_1_1i18n_1_1IConvStreamBuffer.html">IConvStreamBuffer</a> * regina::i18n::IConvStreamBuffer::close </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Closes this stream buffer. </p>
<dl class="section return"><dt>Returns</dt><dd>this stream buffer on success, or <code>null</code> on error. </dd></dl>

</div>
</div>
<a id="a20e3bf0eb09d148ac5869f00545d053b" name="a20e3bf0eb09d148ac5869f00545d053b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20e3bf0eb09d148ac5869f00545d053b">&#9670;&#160;</a></span>open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classregina_1_1i18n_1_1IConvStreamBuffer.html">IConvStreamBuffer</a> * regina::i18n::IConvStreamBuffer::open </td>
          <td>(</td>
          <td class="paramtype">std::ostream &amp;</td>          <td class="paramname"><span class="paramname"><em>dest</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>srcCode</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>destCode</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Opens a new stream buffer that wraps around the given output stream. </p>
<p>If this stream buffer is already open, it will be closed and then reopened with the given parameters.</p>
<p>Any data that is sent to this stream buffer will be translated from <em>srcCode</em> to <em>destCode</em> and passed on to the given output stream.</p>
<p>If the given encodings are invalid, this stream will still forward data to the given output stream but no conversion will take place.</p>
<p>See the <em>iconv</em> documentation for information on what encodings are supported. For the GNU C library implementation, valid encodings can be found by running <code>iconv --list</code>.</p>
<dl class="section pre"><dt>Precondition</dt><dd>The destination output stream is already open.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dest</td><td>the destination output stream. </td></tr>
    <tr><td class="paramname">srcCode</td><td>the character encoding for data that is to be written into this stream buffer. </td></tr>
    <tr><td class="paramname">destCode</td><td>the character encoding for the translated data that will subsequently be written to the destination output stream. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>this stream buffer on success, or <code>null</code> on error. </dd></dl>

</div>
</div>
<a id="a8c9564fc9eba046e24dd45192998e9d3" name="a8c9564fc9eba046e24dd45192998e9d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c9564fc9eba046e24dd45192998e9d3">&#9670;&#160;</a></span>overflow()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int_type regina::i18n::IConvStreamBuffer::overflow </td>
          <td>(</td>
          <td class="paramtype">int_type</td>          <td class="paramname"><span class="paramname"><em>c</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sends buffered data to the destination output stream, converting between character sets en route. </p>
<p>The buffer will be flushed as far as possible, and any invalid characters will be replaced with one or more question marks. If the buffer ends in an incomplete multibyte character, this incomplete character will be held back (since it presumably needs to be combined with later input).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">c</td><td>an extra character to send that did not fit in the internal buffer, or EOF if we simply wish to flush the buffer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, or EOF on error. </dd></dl>

</div>
</div>
<a id="a83235d5ab9057d716ab99d48efe6ad79" name="a83235d5ab9057d716ab99d48efe6ad79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83235d5ab9057d716ab99d48efe6ad79">&#9670;&#160;</a></span>sync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int regina::i18n::IConvStreamBuffer::sync </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Flushes all output buffers. </p>
<p>The buffers for both this stream and the destination output stream will be flushed.</p>
<dl class="section return"><dt>Returns</dt><dd>0 on success, or -1 on error. </dd></dl>

</div>
</div>
<a id="aff332afd72a51d9766b2cdfecf3291df" name="aff332afd72a51d9766b2cdfecf3291df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff332afd72a51d9766b2cdfecf3291df">&#9670;&#160;</a></span>underflow()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">IConvStreamBuffer::int_type regina::i18n::IConvStreamBuffer::underflow </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Simply returns EOF (since this is not an input stream). </p>
<dl class="section return"><dt>Returns</dt><dd>EOF. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>utilities/<a class="el" href="i18nutils_8h.html">i18nutils.h</a></li>
</ul>
</div><!-- contents -->
<hr>
Copyright &copy; 1999-2025, The Regina development team
<br>
This software is released under the GNU General Public License,
with some additional permissions; see the source code for details.
<br>
For further information, or to submit a bug or other problem, please contact
Ben Burton (<a href="mailto:bab@maths.uq.edu.au">bab@maths.uq.edu.au</a>).
</body>
</html>
